<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>3kh0</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="/imgs/logo.png" type="image/png">
  <script src="/time.js"></script>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-28CFMNM1C3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-28CFMNM1C3');
</script>
</head>

<body>
  <div class="nav">
    <div class="logo" onclick="window.open('/', '_self')">
      <img src="/imgs/logo.png">
      <h3>3kh0</h3>
    </div>
    <div class="nav-items">
      <li><a href="/"><span class="material-symbols-outlined">home</span> Home</a></li>
      <li><a href="/games"><span class="material-symbols-outlined">stadia_controller</span> Games</a></li>
      <li><a href="/search"><span class="material-symbols-outlined">language</span> Search</a></li>
      <li><a href="/settings"><span class="material-symbols-outlined">settings</span> Settings</a></li>
    </div>
    <div class="time" id="time-clock"></div>
  </div>
  <!--- Setting Start -->
  <div class="settings">
    <div class="category">
      <h2>Tab Cloak</h2>
      <div class="section-content">
        <br>
        <div class="buttons">
          <input id="title" class="input" placeholder="Title" onkeyup="setTitle(this.value)" />
          <input id="icon" class="input" placeholder="Favicon" onkeyup="setFavicon(this.value.trim())" />
        </div>
        <br>
        <p class="section-text">Ready Made Cloaks</p>
        <div class="buttons">
          <select name="Readymade Cloaks" id="premadecloaks" title="Cloaks">
            <option value="search">Google Search</option>
            <option value="drive">Google Drive</option>
            <option value="youtube">YouTube</option>
            <option value="gmail">Gmail</option>
            <option value="calendar">Google Calendar</option>
            <option value="meets">Google Meet</option>
            <option value="classroom">Google Classroom</option>
            <option value="canvas">Canvas</option>
            <option value="zoom">Zoom</option>
            <option value="khan">Khan Academy</option>
          </select><br><br>
          <button class="button button2" onclick="setCloak()">Set</button>
          <button class="button button2" onclick="resetTab()">Reset</button>
        </div>
      </div>
    </div>

    <div class="category">
      <h2>Search Engine</h2>
      <div class="section-content">
        <p class="searchenginechoice">Choose the Search Engine that will be used while using the Search feature.</p>
      </div>
      <select onchange="selectSearchEngine(this.value)" id="searchEngineSelect">
        <option value="https://www.google.com/search?q=%s">Google</option>
        <option value="https://www.bing.com/search?q=%s">Bing</option>
        <option value="https://search.brave.com/search?q=%s">Brave</option>
        <option value="https://search.yahoo.com/search?p=%s">Yahoo</option>
        <option value="https://duckduckgo.com/?q=%s">DuckDuckGo</option>
      </select>
    </div>

    <div class="category">
      <h2>Themes</h2>
      <div class="section-content">
        <p class="searchenginechoice">Choose the Search Engine that will be used while using the Search feature.</p>
      </div>
      <select id="themeSelector" onchange="changeTheme()">
        <option value="default">Default</option>
        <option value="newgreen">New Green</option>
        <option value="oceanic">Oceanic Blue</option>
        <option value="sunrise">Golden Sunrise</option>
        <option value="royal">Royal Purple</option>
        <option value="charcoal">Charcoal</option>
      </select>
      
    </div>


    <div class="category">
      <h2>Panic Key</h2>
      <div class="setting" id="panic">
        <label for="panic-key-input" style="color: var(--text-color);">Key:</label> <br>
        <input id="panic-key-input" class="input" type="text" />
        <label for="panic-website-input" style="color: var(--text-color);">Website:</label><br>
        <input id="panic-website-input" class="input" type="text" />
      </div>
      <div class="button-container">
        <button class="button" onclick="setPanicKey()">Save</button>
      </div>
    </div>
    <div class="category">
      <h2>About:Blank</h2>
      <div class="section-content">
        <p class="searchenginechoice">About:Blanking opens the website in an about:blank tab, which isn't trackable. It
          wont show in your history, and the url wont show either.</p>
      </div>
      <div class="button-container">
        <button onclick="abtblank()" class="button">Open in About:Blank</button>
      </div>
      <div id="notification" class="notification">
        <h2 id="notification-title"></h2>
        <p id="notification-message"></p>
        <div id="duration-bar" class="duration-bar"></div>
      </div>
    </div>
  </div>
    
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
      var panickey = localStorage.getItem('panicKey')
      console.log(panickey);
      var panicwebsite = localStorage.getItem('panicWebsite')
      $(function () {
        $(document).keydown(function (e) {
          console.log(e.key);
          if (e.key == panickey) {
            window.open(panicwebsite, '_self')
          }
        });
      });
    </script>
    <script>
      function abtblank() {
        const url = location.href;
        const width = window.innerWidth;
        const height = window.innerHeight;

        let inFrame;

        try {
          inFrame = window !== top;
        } catch (e) {
          inFrame = true;
        }

        if (!inFrame && !navigator.userAgent.includes("Firefox")) {
          const popup = window.open("about:blank", name, `width=${width},height=${height}`);

          if (!popup || popup.closed) {
            alert("Allow popups and redirects to hide this from showing up in your history.");
          } else {
            const doc = popup.document;
            const iframe = doc.createElement("iframe");
            const style = iframe.style;
            const link = doc.createElement("link");


            iframe.src = url;
            style.position = "fixed";
            style.top = style.bottom = style.left = style.right = 0;
            style.border = style.outline = "none";
            style.width = style.height = "100%";

            doc.head.appendChild(link);
            doc.body.appendChild(iframe);
            window.location.replace("https://google.com");
          }
        }
      }
    </script>
    <script src="../notification.js"></script>
    <script src="/js/search_engine.js"></script>
    <script src="/js/cloak.js"></script>
    <script src="/js/panic_key.js"></script>
    <script src="/js/themes.js"></script>
</body>

</html>
